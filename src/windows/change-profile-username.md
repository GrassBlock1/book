# 正确更改账户的用户名

几乎众所周知的是，Windows上一些软件和游戏遇到带有中文的路径几乎都会出现各种奇怪的问题。而作为数据存放的用户文件夹（一般来说是 C:\Users\username），一旦其路径中产生了中文，便成为各种问题的“万恶之源”。

消歧义：这里的“用户名”不应与“显示名”混淆，尽管通过正常的安装流程二者看起来是完全相同的。

理论上，用户名在创建之后不能通过常规的手段（如系统设置、计算机管理等）更改，但是实现比较完美的修改（数据不会丢失）仍然是可行的。

<div class="warning">
    WIP
</div>

方法如下：

（假设目前要修改用户名的账户是当前正在使用的，且拥有管理权限，如果不是，请直接跳转到第4步）



1. 新建一个临时使用的**本地管理员**账户：为了最小化修改，不要登录额外的Microsoft账户，具体步骤可参考 [在 Windows 中创建本地用户或管理员帐户 - Microsoft 支持](https://support.microsoft.com/zh-cn/windows/在-windows-中创建本地用户或管理员帐户-20de74e0-ac7f-3502-a866-32915af2a34d)（其中涉及到的步骤均在当前需要修改用户名的账户下进行，不需要切换过去）

2. 注销当前登录的账户，在登录界面选择刚刚创建的临时账户并登录。
3. 为了节省时间，隐私设置无需顾及，直接选择下一步，是。
4. 打开资源管理器（一般在任务栏上且显示为文件夹图标），打开此电脑，再打开(C:)，打开 Users 文件夹，将名称为旧用户名的文件夹重命名为想要修改的新用户名。
5. 点击搜索图标，搜索“注册表编辑器”并打开（或者右键开始图标，选择“运行”，然后输入`regedit`）
6. 地址栏删除“计算机\"后的所有字符，输入或粘贴 `HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList`（或者点击左侧的文件夹，逐层找到它们）
7. 在项对应展开的文件夹中，找到原用户名对应的项（逐个尝试，然后找到含有 `C:\Users\（原用户名）`的项，双击编辑，将原用户名的部分修改为新用户名。
8. 注销此临时账户，重新登录回原有的账户。
9. 将临时账户连同账户资料一同删除。
